# CMake å­¦ä¹ é¡¹ç›®æ€»ç»“

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºå­¦ä¹  CMake è€Œè®¾è®¡çš„ç»¼åˆæ€§é¡¹ç›®,åŒ…å«äº† CMake çš„æ ¸å¿ƒæ¦‚å¿µå’Œæœ€ä½³å®è·µã€‚

### é¡¹ç›®ç‰¹ç‚¹

âœ… **å®Œæ•´çš„é¡¹ç›®ç»“æ„** - åŒ…å«åº“ã€åº”ç”¨ç¨‹åºã€æµ‹è¯•çš„å¤šæ¨¡å—é¡¹ç›®  
âœ… **å®ç”¨çš„åŠŸèƒ½** - æ•°å­¦è®¡ç®—åº“å’Œå­—ç¬¦ä¸²å¤„ç†åº“  
âœ… **å®Œå–„çš„æµ‹è¯•** - ä½¿ç”¨ CTest è¿›è¡Œå•å…ƒæµ‹è¯•  
âœ… **è¯¦ç»†çš„æ–‡æ¡£** - åŒ…å«æ•™ç¨‹ã€å¿«é€Ÿå…¥é—¨å’Œ API æ–‡æ¡£  
âœ… **æ„å»ºè„šæœ¬** - æä¾›è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬  
âœ… **å¯è¿è¡Œçš„æ¼”ç¤º** - åŒ…å«äº¤äº’å¼å’Œéäº¤äº’å¼æ¼”ç¤ºç¨‹åº

## æ–‡ä»¶æ¸…å•

### æ–‡æ¡£æ–‡ä»¶

| æ–‡ä»¶å | è¯´æ˜ | é€‚åˆäººç¾¤ |
|--------|------|----------|
| `README.md` | é¡¹ç›®è¯´æ˜å’ŒåŸºæœ¬ä»‹ç» | æ‰€æœ‰ç”¨æˆ· |
| `QUICKSTART.md` | 5åˆ†é’Ÿå¿«é€Ÿå…¥é—¨æŒ‡å— | åˆå­¦è€… |
| `CMAKE_TUTORIAL.md` | è¯¦ç»†çš„CMakeæ•™ç¨‹(700+è¡Œ) | å­¦ä¹ è€… |
| `PROJECT_SUMMARY.md` | é¡¹ç›®æ€»ç»“(æœ¬æ–‡ä»¶) | æ‰€æœ‰ç”¨æˆ· |

### é…ç½®æ–‡ä»¶

| æ–‡ä»¶å | è¯´æ˜ |
|--------|------|
| `CMakeLists.txt` | æ ¹CMakeé…ç½®æ–‡ä»¶ |
| `src/mathlib/CMakeLists.txt` | æ•°å­¦åº“é…ç½® |
| `src/stringlib/CMakeLists.txt` | å­—ç¬¦ä¸²åº“é…ç½® |
| `apps/CMakeLists.txt` | åº”ç”¨ç¨‹åºé…ç½® |
| `tests/CMakeLists.txt` | æµ‹è¯•é…ç½® |
| `config.h.in` | é…ç½®å¤´æ–‡ä»¶æ¨¡æ¿ |

### æºä»£ç æ–‡ä»¶

**å¤´æ–‡ä»¶** (3ä¸ª):
- `include/mathlib/calculator.h` - è®¡ç®—å™¨ç±»
- `include/mathlib/statistics.h` - ç»Ÿè®¡åˆ†æç±»
- `include/stringlib/stringutils.h` - å­—ç¬¦ä¸²å·¥å…·ç±»

**å®ç°æ–‡ä»¶** (3ä¸ª):
- `src/mathlib/calculator.cpp`
- `src/mathlib/statistics.cpp`
- `src/stringlib/stringutils.cpp`

**åº”ç”¨ç¨‹åº** (2ä¸ª):
- `apps/calculator_app.cpp` - äº¤äº’å¼è®¡ç®—å™¨
- `apps/simple_demo.cpp` - ç®€å•æ¼”ç¤ºç¨‹åº

**æµ‹è¯•æ–‡ä»¶** (3ä¸ª):
- `tests/test_calculator.cpp`
- `tests/test_statistics.cpp`
- `tests/test_stringutils.cpp`

### å·¥å…·æ–‡ä»¶

- `build.sh` - è‡ªåŠ¨åŒ–æ„å»ºè„šæœ¬
- `.gitignore` - Git å¿½ç•¥æ–‡ä»¶é…ç½®

## åŠŸèƒ½æ¨¡å—

### 1. MathLib æ•°å­¦åº“

**Calculator ç±»**:
- `add()` - åŠ æ³•
- `subtract()` - å‡æ³•
- `multiply()` - ä¹˜æ³•
- `divide()` - é™¤æ³•(å¸¦é›¶æ£€æŸ¥)
- `power()` - å¹‚è¿ç®—
- `squareRoot()` - å¹³æ–¹æ ¹(å¸¦è´Ÿæ•°æ£€æŸ¥)

**Statistics ç±»**:
- `mean()` - å¹³å‡å€¼
- `median()` - ä¸­ä½æ•°
- `variance()` - æ–¹å·®
- `standardDeviation()` - æ ‡å‡†å·®
- `min()` - æœ€å°å€¼
- `max()` - æœ€å¤§å€¼

### 2. StringLib å­—ç¬¦ä¸²åº“

**StringUtils ç±»**:
- `toUpper()` - è½¬å¤§å†™
- `toLower()` - è½¬å°å†™
- `trim()` - å»é™¤é¦–å°¾ç©ºæ ¼
- `split()` - åˆ†å‰²å­—ç¬¦ä¸²
- `join()` - è¿æ¥å­—ç¬¦ä¸²
- `startsWith()` - æ£€æŸ¥å‰ç¼€
- `endsWith()` - æ£€æŸ¥åç¼€
- `reverse()` - åè½¬å­—ç¬¦ä¸²

## CMake çŸ¥è¯†ç‚¹è¦†ç›–

### åŸºç¡€æ¦‚å¿µ

- âœ… `cmake_minimum_required()` - ç‰ˆæœ¬è¦æ±‚
- âœ… `project()` - é¡¹ç›®å®šä¹‰
- âœ… `set()` - å˜é‡è®¾ç½®
- âœ… `option()` - æ„å»ºé€‰é¡¹
- âœ… `message()` - æ¶ˆæ¯è¾“å‡º

### ç›®æ ‡ç®¡ç†

- âœ… `add_library()` - åˆ›å»ºåº“
- âœ… `add_executable()` - åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶
- âœ… `target_include_directories()` - è®¾ç½®åŒ…å«ç›®å½•
- âœ… `target_link_libraries()` - é“¾æ¥åº“
- âœ… `set_target_properties()` - è®¾ç½®ç›®æ ‡å±æ€§

### é¡¹ç›®ç»„ç»‡

- âœ… `add_subdirectory()` - æ·»åŠ å­ç›®å½•
- âœ… `include_directories()` - å…¨å±€åŒ…å«ç›®å½•
- âœ… å¤šçº§ CMakeLists.txt ç»„ç»‡
- âœ… å¤´æ–‡ä»¶ä¸å®ç°åˆ†ç¦»

### æµ‹è¯•é›†æˆ

- âœ… `enable_testing()` - å¯ç”¨æµ‹è¯•
- âœ… `add_test()` - æ·»åŠ æµ‹è¯•
- âœ… CTest é›†æˆ

### é«˜çº§ç‰¹æ€§

- âœ… `configure_file()` - é…ç½®æ–‡ä»¶ç”Ÿæˆ
- âœ… `install()` - å®‰è£…è§„åˆ™
- âœ… æ¡ä»¶ç¼–è¯‘ (`if/else`)
- âœ… ç¼–è¯‘é€‰é¡¹è®¾ç½®
- âœ… è¾“å‡ºç›®å½•ç®¡ç†

### ä½œç”¨åŸŸç®¡ç†

- âœ… `PUBLIC` - å…¬å…±ä¾èµ–
- âœ… `PRIVATE` - ç§æœ‰ä¾èµ–
- âœ… `INTERFACE` - æ¥å£ä¾èµ–

## ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿå¼€å§‹

```bash
cd cmake_learning_project
./build.sh all
```

### æ‰‹åŠ¨æ„å»º

```bash
mkdir build && cd build
cmake ..
cmake --build .
ctest
./bin/simple_demo
```

### æ„å»ºé€‰é¡¹

```bash
# æ„å»ºå…±äº«åº“
cmake -DBUILD_SHARED_LIBS=ON ..

# Release æ¨¡å¼
cmake -DCMAKE_BUILD_TYPE=Release ..

# ç¦ç”¨æµ‹è¯•
cmake -DBUILD_TESTS=OFF ..
```

## å­¦ä¹ è·¯å¾„å»ºè®®

### ç¬¬ä¸€é˜¶æ®µ:ç†è§£é¡¹ç›®ç»“æ„ (30åˆ†é’Ÿ)

1. é˜…è¯» `README.md` äº†è§£é¡¹ç›®æ¦‚å†µ
2. æŸ¥çœ‹ç›®å½•ç»“æ„,ç†è§£æ–‡ä»¶ç»„ç»‡
3. è¿è¡Œ `./build.sh all` æ„å»ºé¡¹ç›®
4. è¿è¡Œæ¼”ç¤ºç¨‹åºå’Œæµ‹è¯•

### ç¬¬äºŒé˜¶æ®µ:å­¦ä¹ åŸºç¡€çŸ¥è¯† (2å°æ—¶)

1. é˜…è¯» `QUICKSTART.md` å¿«é€Ÿå…¥é—¨
2. é˜…è¯» `CMAKE_TUTORIAL.md` å‰åŠéƒ¨åˆ†
3. ç†è§£æ ¹ `CMakeLists.txt` çš„æ¯ä¸€è¡Œ
4. ç†è§£åº“çš„ `CMakeLists.txt`

### ç¬¬ä¸‰é˜¶æ®µ:åŠ¨æ‰‹å®è·µ (3å°æ—¶)

1. ä¿®æ”¹ç°æœ‰ä»£ç å¹¶é‡æ–°ç¼–è¯‘
2. æ·»åŠ æ–°çš„å‡½æ•°åˆ°ç°æœ‰ç±»
3. åˆ›å»ºæ–°çš„ç±»å’Œæºæ–‡ä»¶
4. ç¼–å†™æ–°çš„æµ‹è¯•ç”¨ä¾‹

### ç¬¬å››é˜¶æ®µ:è¿›é˜¶å­¦ä¹  (5å°æ—¶)

1. å®Œæˆæ•™ç¨‹ä¸­çš„å®æˆ˜ç»ƒä¹ 
2. å­¦ä¹ é«˜çº§ç‰¹æ€§(å¯¼å‡ºã€å®‰è£…ã€æ‰“åŒ…)
3. å°è¯•æ·»åŠ å¤–éƒ¨ä¾èµ–
4. å­¦ä¹ è·¨å¹³å°æ„å»ºæŠ€å·§

## æ‰©å±•å»ºè®®

### å¯ä»¥æ·»åŠ çš„åŠŸèƒ½

1. **æ›´å¤šåº“æ¨¡å—**:
   - æ–‡ä»¶ I/O åº“
   - ç½‘ç»œé€šä¿¡åº“
   - æ•°æ®ç»“æ„åº“

2. **ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“**:
   - JSON è§£æ (nlohmann/json)
   - æ—¥å¿—åº“ (spdlog)
   - æµ‹è¯•æ¡†æ¶ (Google Test)

3. **é«˜çº§ CMake ç‰¹æ€§**:
   - åŒ…é…ç½®æ–‡ä»¶ç”Ÿæˆ
   - å¯¼å‡ºç›®æ ‡ä¾›å…¶ä»–é¡¹ç›®ä½¿ç”¨
   - CPack æ‰“åŒ…
   - Doxygen æ–‡æ¡£ç”Ÿæˆ

4. **CI/CD é›†æˆ**:
   - GitHub Actions
   - GitLab CI
   - Travis CI

## å¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æ¸…ç†æ„å»º?

```bash
./build.sh clean
# æˆ–
rm -rf build
```

### Q2: å¦‚ä½•åªæ„å»ºæŸä¸ªç›®æ ‡?

```bash
cd build
cmake --build . --target mathlib
cmake --build . --target calculator_app
```

### Q3: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†çš„ç¼–è¯‘è¿‡ç¨‹?

```bash
cmake --build . --verbose
# æˆ–
make VERBOSE=1
```

### Q4: å¦‚ä½•æ·»åŠ æ–°çš„æºæ–‡ä»¶?

1. åˆ›å»º `.h` æ–‡ä»¶åˆ° `include/` ç›®å½•
2. åˆ›å»º `.cpp` æ–‡ä»¶åˆ° `src/` ç›®å½•
3. åœ¨å¯¹åº”çš„ `CMakeLists.txt` ä¸­æ·»åŠ åˆ° `SOURCES` åˆ—è¡¨
4. é‡æ–°è¿è¡Œ `cmake ..`

### Q5: å¦‚ä½•è°ƒè¯• CMake é…ç½®?

```bash
cmake .. --trace
# æˆ–
cmake .. --debug-output
```

## æ€§èƒ½æŒ‡æ ‡

### æ„å»ºæ—¶é—´

- **é¦–æ¬¡æ„å»º**: ~5-10ç§’
- **å¢é‡æ„å»º**: ~1-2ç§’
- **æ¸…ç†é‡å»º**: ~5-10ç§’

### ä»£ç è§„æ¨¡

- **æ€»ä»£ç è¡Œæ•°**: ~1500è¡Œ
- **C++ ä»£ç **: ~800è¡Œ
- **CMake é…ç½®**: ~200è¡Œ
- **æ–‡æ¡£**: ~1000è¡Œ

### æµ‹è¯•è¦†ç›–

- **æµ‹è¯•ç”¨ä¾‹æ•°**: 21ä¸ª
- **æµ‹è¯•é€šè¿‡ç‡**: 100%
- **æµ‹è¯•æ‰§è¡Œæ—¶é—´**: <0.1ç§’

## é¡¹ç›®ç»Ÿè®¡

```
cmake_learning_project/
â”œâ”€â”€ 15 ä¸ªæºä»£ç æ–‡ä»¶ (.h, .cpp)
â”œâ”€â”€ 6 ä¸ª CMake é…ç½®æ–‡ä»¶
â”œâ”€â”€ 4 ä¸ªæ–‡æ¡£æ–‡ä»¶ (.md)
â”œâ”€â”€ 1 ä¸ªæ„å»ºè„šæœ¬ (.sh)
â”œâ”€â”€ 2 ä¸ªå¯æ‰§è¡Œç¨‹åº
â”œâ”€â”€ 2 ä¸ªåº“ (mathlib, stringlib)
â””â”€â”€ 3 ä¸ªæµ‹è¯•ç¨‹åº
```

## æŠ€æœ¯æ ˆ

- **æ„å»ºç³»ç»Ÿ**: CMake 3.10+
- **ç¼–ç¨‹è¯­è¨€**: C++11
- **æµ‹è¯•æ¡†æ¶**: CTest (å†…ç½®)
- **ç¼–è¯‘å™¨**: GCC/Clang/MSVC

## è®¸å¯è¯

MIT License - å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æ”¹è¿›å’Œæ‰©å±•è¿™ä¸ªé¡¹ç›®!å»ºè®®çš„è´¡çŒ®æ–¹å‘:

1. æ·»åŠ æ›´å¤šç¤ºä¾‹ä»£ç 
2. æ”¹è¿›æ–‡æ¡£å’Œæ•™ç¨‹
3. æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨ä¾‹
4. æ”¯æŒæ›´å¤šå¹³å°å’Œç¼–è¯‘å™¨
5. æ·»åŠ  CI/CD é…ç½®

## ç›¸å…³èµ„æº

- [CMake å®˜æ–¹æ–‡æ¡£](https://cmake.org/documentation/)
- [Modern CMake](https://cliutils.gitlab.io/modern-cmake/)
- [CMake Cookbook](https://github.com/dev-cafe/cmake-cookbook)
- [Effective CMake](https://www.youtube.com/watch?v=bsXLMQ6WgIk)

---

**ç¥ä½ å­¦ä¹ æ„‰å¿«!å¦‚æœ‰é—®é¢˜,è¯·æŸ¥é˜…æ–‡æ¡£æˆ–æäº¤ Issueã€‚** ğŸš€
